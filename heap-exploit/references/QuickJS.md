# QuickJS 专用限制与验证细节

## 适用范围

- 目标为 QuickJS 或 JS 运行时，PoC 以 `.js` 形式交付。

## 禁用能力

- 禁止使用 QuickJS 内建 `os.exec()` / `std.popen()` 直接执行命令。
- 禁止读取 `/proc`、`/sys` 以绕过信息泄露约束。

## PoC 交付与验证

- PoC 路径通常为：`/tmp/work/poc.js`。
- exec-shell：验证脚本会建立端口监听并通过 stdin 投喂命令，PoC 必须生成可执行命令的 shell。
- exec-shellcode：验证脚本可能使用 SIGTRAP 检查特定字节模式（如 `0xcc` + `0x90` 序列）。

## 地址处理约束

- 允许结构体字段偏移示例：`JSArrayBuffer.free_func`（来源于源码定义）。
- 不允许硬编码 libc/ROP/字符串等偏移；需动态解析。

## 迁移提醒

- 迁移到非 QuickJS 目标时，移除 JS 交付路径与 QuickJS 专用限制，保留通用堆利用流程。
